import{r as n,c6 as P,ca as $,j as e,i as S,u as I,ch as E,d as b,e as T,F as l,B as y,y as f,bG as G,bI as v,g as M,c as U,M as g,m as B,C as L,b as O,ci as k,c5 as A}from"./index-BR7e0FAz.js";import{c as z}from"./ordersApiSlice-D_qTd9uo.js";const C=n.forwardRef(({bsPrefix:s,className:c,striped:o,bordered:d,borderless:i,hover:a,size:u,variant:m,responsive:h,...p},j)=>{const t=P(s,"table"),N=$(c,t,m&&`${t}-${m}`,u&&`${t}-${u}`,o&&`${t}-${typeof o=="string"?`striped-${o}`:"striped"}`,d&&`${t}-bordered`,i&&`${t}-borderless`,a&&`${t}-hover`),r=e.jsx("table",{...p,className:N,ref:j});if(h){let x=`${t}-responsive`;return typeof h=="string"&&(x=`${x}-${h}`),e.jsx("div",{className:x,children:r})}return r});C.displayName="Table";const D=()=>{const s=S(r=>r.auth?.userInfo),c=I(),[o]=E(),[d,i]=n.useState(""),[a,u]=n.useState(""),[m,h]=n.useState(""),[p,j]=n.useState(""),t=n.useCallback(()=>{i(s?.name??""),u(s?.email??""),h(""),j("")},[s?.name,s?.email]),N=async r=>{if(r.preventDefault(),m!==p)t(),f.error("Password not matched.");else if(m.length===0&&p.length===0)t(),f.error("Enter your password and confirm password then try again.");else{const x=await o({name:d,email:a,image:s?.image}).unwrap();x?(f.success("Updated successfully!"),t(),c(G(x))):(t(),f.error("Update Failed!"))}};return n.useEffect(()=>{t()},[t]),e.jsx(b,{sm:10,lg:4,className:"mx-sm-auto mt-4",children:e.jsxs(T,{id:"user-information",className:"user-info glass-card shadow-lg p-4 rounded-4 border-0",children:[e.jsx("h3",{className:"text-center mb-4 fw-semibold",style:{letterSpacing:1},children:"Update Profile"}),e.jsxs(l,{onSubmit:N,children:[e.jsxs(l.Group,{controlId:"name",className:"mb-4",children:[e.jsx(l.Label,{className:"fw-semibold ",children:"Name"}),e.jsx(l.Control,{type:"text",placeholder:"Enter your name",className:"rounded-3 py-2",value:d,onChange:r=>i(r.target.value)})]}),e.jsxs(l.Group,{controlId:"email",className:"mb-4",children:[e.jsx(l.Label,{className:"fw-semibold",children:"Email Address"}),e.jsx(l.Control,{type:"email",placeholder:"Enter your email",className:"rounded-3 py-2",value:a,onChange:r=>u(r.target.value)})]}),e.jsxs(l.Group,{controlId:"password",className:"mb-4",children:[e.jsx(l.Label,{className:"fw-semibold",children:"Password"}),e.jsx(l.Control,{type:"password",placeholder:"Enter new password",className:"rounded-3 py-2",value:m,onChange:r=>h(r.target.value)})]}),e.jsxs(l.Group,{controlId:"confirmPassword",className:"mb-4",children:[e.jsx(l.Label,{className:"fw-semibold",children:"Confirm Password"}),e.jsx(l.Control,{type:"password",placeholder:"Confirm your password",className:"rounded-3 py-2",value:p,onChange:r=>j(r.target.value)})]}),e.jsx("div",{className:"text-center",children:e.jsx(y,{id:"update-button",type:"submit",variant:"light",className:"update-button mt-2 px-4 py-2 fw-semibold rounded-pill shadow-sm",children:"Update"})})]})]})})};function F(s){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(s)}function R(s){return v({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"},child:[]}]})(s)}const w=({isActive:s})=>s?e.jsx(R,{color:"green",fontSize:"24px"}):e.jsx(F,{color:"red",fontSize:"24px"}),Q=()=>{const s=M(),{data:c,isLoading:o,error:d,refetch:i}=z();return n.useEffect(()=>{i()},[i]),o?e.jsx(U,{}):d?e.jsx(g,{variant:"danger",children:d}):e.jsx(B.div,{initial:{y:-200,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},children:e.jsx(L,{children:e.jsxs(O,{className:"profile-row",children:[c&&c.length>=1?e.jsxs(b,{sm:12,lg:8,className:"mx-sm-auto my-4",children:[e.jsxs(k,{className:"profile-alert",variant:"dark",children:[" ",e.jsx("h2",{className:"fw-bold",children:"Orders Status"})]}),e.jsxs(C,{responsive:"xl",variant:"dark",striped:!0,bordered:!0,hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center align-middle",children:"#"}),e.jsx("th",{className:"text-center",children:"Payment Method"}),e.jsx("th",{className:"text-center",children:"Paid Status"}),e.jsx("th",{className:"text-center",children:"Paid Time"}),e.jsx("th",{className:"text-center",children:"Total Price"}),e.jsx("th",{className:"text-center",children:"Order Status"}),e.jsx("th",{className:"text-center",children:"Order Page"})]})}),e.jsx("tbody",{children:c?.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:a._id}),e.jsx("td",{className:"text-center",children:a.paymentMethod}),e.jsx("td",{className:"text-center",children:e.jsx(w,{isActive:a.isPaid})}),e.jsx("td",{className:"text-center",children:a.status==="Cancelled"?e.jsx(w,{isActive:!1}):A(a.paidAt)}),e.jsxs("td",{className:"text-center ",children:[a.totalPrice," $"]}),e.jsx("td",{className:"text-center",children:a.status}),e.jsx("td",{className:"text-center",children:e.jsx(y,{variant:"warning",size:"sm",disabled:a.status==="Cancelled",onClick:()=>{s(`/order/${a._id}`)},children:"Details"})})]},a._id))})]})]}):e.jsx(b,{md:8,children:e.jsx(g,{variant:"info",children:"No Orders Here."})}),e.jsx(D,{})]})})})};export{Q as default};
