import{r as o,u as b,g as w,bE as f,i as v,bi as L,j as e,m as N,C as S,I as C,bF as I,c as B,e as E,F as a,B as R,b as F,d as P,L as k,bG as z,y as m}from"./index-BR7e0FAz.js";import{B as D}from"./main-D7mbeGkd.js";const U=()=>{const[c,u]=o.useState(""),[l,h]=o.useState(""),g=b(),r=w(),[x,{isLoading:n}]=f(),{userInfo:d}=v(s=>s.auth),{search:p}=L(),i=new URLSearchParams(p).get("redirect")||"/";o.useEffect(()=>{d&&r(i)},[d,i,r]);const y=async s=>{s.preventDefault();try{const t=await x({email:c,password:l}).unwrap(),{isAdmin:H,...j}=t;g(z({...j})),r(i)}catch(t){t?.data?m.error(t?.data?.message||"Something went wrong"):m.error(t?.message||"Something went wrong")}};return e.jsx(N.div,{initial:{y:-200,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"60vh"},children:e.jsxs(S,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx(C,{src:`${I}`,alt:"Buyzy Logo",style:{width:150,marginBottom:20,borderRadius:"50%"}}),e.jsxs("h2",{className:"mb-4",children:["Welcome Back to"," ",e.jsx("span",{style:{fontFamily:"Fredoka One, sans-serif"},children:"Buyzy"})]})]}),n?e.jsx(B,{}):e.jsxs(E,{className:"p-4 shadow-lg rounded-4",style:{maxWidth:450,minHeight:500,width:"100%",margin:"auto",background:"white"},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(D,{size:70,color:"#0d6efd"}),e.jsx("h2",{className:"mt-0",children:"Sign In"})]}),e.jsxs(a,{onSubmit:y,children:[e.jsxs(a.Group,{controlId:"email",className:"mb-3",children:[e.jsx(a.Label,{children:"Email"}),e.jsx(a.Control,{className:"placeholder-secondary",type:"email",placeholder:"Enter your email",value:c,onChange:s=>u(s.target.value),style:{borderRadius:8,padding:"10px 12px"},required:!0})]}),e.jsxs(a.Group,{controlId:"password",className:"mb-4",children:[e.jsx(a.Label,{children:"Password"}),e.jsx(a.Control,{className:"placeholder-secondary",type:"password",placeholder:"Enter your password",value:l,onChange:s=>h(s.target.value),style:{borderRadius:8,padding:"10px 12px"},required:!0})]}),e.jsx(R,{type:"submit",variant:"primary",className:"w-100 py-2 mb-3",disabled:n,style:{borderRadius:8},children:n?"Signing In...":"Sign In"})]}),e.jsx(F,{className:"text-center mt-3",children:e.jsxs(P,{children:["Don't have an account?"," ",e.jsx(k,{to:"/register?redirect=/login",children:"Sign Up"})]})})]})]})})};export{U as default};
