import{A as te,o as ae,p as re,H as se,q as oe,s as ne,t as ie,L as F,v as ue,w as ce,x as le,N as de,z as pe,D as me,O as fe,P as ye,E as be,G as he,J as Se,K as ve,Q as Re,S as xe,T as Ce,U as ge,V as _e,W as Ne,X as Pe,Y as Fe,Z as Ee,_ as je,$ as Oe,a0 as Ae,a1 as ke,a2 as we,a3 as De,a4 as Ue,a5 as He,a6 as Le,a7 as qe,a8 as Be,a9 as Te,aa as Me,ab as Ie,ac as $e,ad as We,ae as Ve,af as Ke,ag as ze,ah as Ge,ai as Je,aj as Ye,ak as Qe,al as Xe,am as Ze,an as et,ao as tt,ap as at,aq as rt,ar as st,as as ot,at as nt,au as it,av as ut,aw as ct,ax as lt,ay as dt,az as pt,aA as mt,aB as ft,aC as yt,aD as bt,aE as ht,aF as St,aG as vt,aH as Rt,aI as xt,aJ as Ct,aK as gt,aL as _t,aM as Nt,aN as Pt,aO as Ft,aP as Et,aQ as jt,aR as Ot,aS as At,aT as kt,aU as wt,aV as Dt,aW as Ut,aX as Ht,aY as Lt,aZ as qt,a_ as Bt,a$ as Tt,b0 as Mt,b1 as It,b2 as $t,b3 as Wt,b4 as Vt,b5 as Kt,b6 as zt,b7 as Gt,b8 as Jt,b9 as Yt,ba as Qt,bb as Xt,bc as Zt,bd as ea,be as ta,bf as aa,bg as ra,bh as sa,bi as oa,bj as na,bk as ia,g as $,bl as ua,bm as ca,bn as la,bo as da,k as pa,bp as ma,bq as fa,br as ya,bs as ba,bt as ha,bu as Sa,bv as va,bw as Ra,bx as W,by as xa,bz as Ca,bA as ga,j as a,m as _a,C as Na,b as H,d as g,M as Pa,e as L,I as Fa,F as Ea,B as q,bB as ja,u as Oa,i as Aa,r as ka,bC as B,bD as wa,n as Da}from"./index-BR7e0FAz.js";import{L as x}from"./ListGroup-CPytsWHT.js";/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ua=Object.freeze(Object.defineProperty({__proto__:null,Await:te,BrowserRouter:ae,Form:re,HashRouter:se,IDLE_BLOCKER:oe,IDLE_FETCHER:ne,IDLE_NAVIGATION:ie,Link:F,Links:ue,MemoryRouter:ce,Meta:le,NavLink:de,Navigate:pe,NavigationType:me,Outlet:fe,PrefetchPageLinks:ye,Route:be,Router:he,RouterContextProvider:Se,RouterProvider:ve,Routes:Re,Scripts:xe,ScrollRestoration:Ce,ServerRouter:ge,StaticRouter:_e,StaticRouterProvider:Ne,UNSAFE_AwaitContextProvider:Pe,UNSAFE_DataRouterContext:Fe,UNSAFE_DataRouterStateContext:Ee,UNSAFE_ErrorResponseImpl:je,UNSAFE_FetchersContext:Oe,UNSAFE_FrameworkContext:Ae,UNSAFE_LocationContext:ke,UNSAFE_NavigationContext:we,UNSAFE_RSCDefaultRootErrorBoundary:De,UNSAFE_RemixErrorBoundary:Ue,UNSAFE_RouteContext:He,UNSAFE_ServerMode:Le,UNSAFE_SingleFetchRedirectSymbol:qe,UNSAFE_ViewTransitionContext:Be,UNSAFE_WithComponentProps:Te,UNSAFE_WithErrorBoundaryProps:Me,UNSAFE_WithHydrateFallbackProps:Ie,UNSAFE_createBrowserHistory:$e,UNSAFE_createClientRoutes:We,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:Ve,UNSAFE_createRouter:Ke,UNSAFE_decodeViaTurboStream:ze,UNSAFE_deserializeErrors:Ge,UNSAFE_getHydrationData:Je,UNSAFE_getPatchRoutesOnNavigationFunction:Ye,UNSAFE_getTurboStreamSingleFetchDataStrategy:Qe,UNSAFE_hydrationRouteProperties:Xe,UNSAFE_invariant:Ze,UNSAFE_mapRouteProperties:et,UNSAFE_shouldHydrateRouteLoader:tt,UNSAFE_useFogOFWarDiscovery:at,UNSAFE_useScrollRestoration:rt,UNSAFE_withComponentProps:st,UNSAFE_withErrorBoundaryProps:ot,UNSAFE_withHydrateFallbackProps:nt,createBrowserRouter:it,createContext:ut,createCookie:ct,createCookieSessionStorage:lt,createHashRouter:dt,createMemoryRouter:pt,createMemorySessionStorage:mt,createPath:ft,createRequestHandler:yt,createRoutesFromChildren:bt,createRoutesFromElements:ht,createRoutesStub:St,createSearchParams:vt,createSession:Rt,createSessionStorage:xt,createStaticHandler:Ct,createStaticRouter:gt,data:_t,generatePath:Nt,href:Pt,isCookie:Ft,isRouteErrorResponse:Et,isSession:jt,matchPath:Ot,matchRoutes:At,parsePath:kt,redirect:wt,redirectDocument:Dt,renderMatches:Ut,replace:Ht,resolvePath:Lt,unstable_HistoryRouter:qt,unstable_RSCHydratedRouter:Bt,unstable_RSCStaticRouter:Tt,unstable_createCallServer:Mt,unstable_getRSCStream:It,unstable_routeRSCServerRequest:$t,unstable_setDevServerHooks:Wt,unstable_usePrompt:Vt,unstable_useRoute:Kt,useActionData:zt,useAsyncError:Gt,useAsyncValue:Jt,useBeforeUnload:Yt,useBlocker:Qt,useFetcher:Xt,useFetchers:Zt,useFormAction:ea,useHref:ta,useInRouterContext:aa,useLinkClickHandler:ra,useLoaderData:sa,useLocation:oa,useMatch:na,useMatches:ia,useNavigate:$,useNavigation:ua,useNavigationType:ca,useOutlet:la,useOutletContext:da,useParams:pa,useResolvedPath:ma,useRevalidator:fa,useRouteError:ya,useRouteLoaderData:ba,useRoutes:ha,useSearchParams:Sa,useSubmit:va,useViewTransitionState:Ra},Symbol.toStringTag,{value:"Module"}));var E={},j={},O={exports:{}};const Ha=W(xa),La=W(Ua);/**
 * react-router-dom v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T;function qa(){return T||(T=1,(function(u){var l=Object.defineProperty,s=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,r=(f,p)=>{for(var y in p)l(f,y,{get:p[y],enumerable:!0})},h=(f,p,y,N)=>{if(p&&typeof p=="object"||typeof p=="function")for(let t of d(p))!o.call(f,t)&&t!==y&&l(f,t,{get:()=>p[t],enumerable:!(N=s(p,t))||N.enumerable});return f},c=(f,p,y)=>(h(f,p,"default"),y&&h(y,p,"default")),S=f=>h(l({},"__esModule",{value:!0}),f),v={};r(v,{HydratedRouter:()=>_.HydratedRouter,RouterProvider:()=>_.RouterProvider}),u.exports=S(v);var _=Ha;c(v,La,u.exports)})(O)),O.exports}var M;function Ba(){return M||(M=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var l=r(Ca()),s=r(ga()),d=qa(),o=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function r(t){return t&&t.__esModule?t:{default:t}}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(m){return Object.getOwnPropertyDescriptor(t,m).enumerable})),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(i){S(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(t)}function _(t,e){if(t==null)return{};var n=f(t,e),i,m;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);for(m=0;m<b.length;m++)i=b[m],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function f(t,e){if(t==null)return{};var n={},i=Object.keys(t),m,b;for(b=0;b<i.length;b++)m=i[b],!(e.indexOf(m)>=0)&&(n[m]=t[m]);return n}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},y=function(e){var n=e.children,i=e.onClick,m=e.replace,b=m===void 0?!1:m,R=e.to,V=e.state,A=e.activeClassName,K=A===void 0?"active":A,z=e.className,G=e.activeStyle,k=e.style,P=e.isActive,J=_(e,o),Y=v(R)==="object"?R.pathname||"":R,Q=(0,d.useNavigate)(),X=(0,d.useHref)(typeof R=="string"?{pathname:R}:R),w=(0,d.useMatch)(Y),Z=(0,d.useLocation)(),D=l.default.Children.only(n),U=!!(P?typeof P=="function"?P(w,Z):P:w),ee=function(C){n.props.onClick&&n.props.onClick(C),i&&i(C),!C.defaultPrevented&&C.button===0&&!p(C)&&(C.preventDefault(),Q(R,{replace:b,state:V}))};return l.default.cloneElement(D,c(c({},J),{},{className:[z,D.props.className,U?K:null].join(" ").trim(),style:U?c(c({},k),G):k,href:X,onClick:ee}))};y.propTypes={children:s.default.element.isRequired,onClick:s.default.func,replace:s.default.bool,to:s.default.oneOfType([s.default.string,s.default.object]).isRequired,state:s.default.object,className:s.default.string,activeClassName:s.default.string,style:s.default.objectOf(s.default.oneOfType([s.default.string,s.default.number])),activeStyle:s.default.objectOf(s.default.oneOfType([s.default.string,s.default.number])),isActive:s.default.oneOfType([s.default.func,s.default.bool])};var N=y;u.default=N})(j)),j}var I;function Ta(){return I||(I=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"LinkContainer",{enumerable:!0,get:function(){return l.default}});var l=s(Ba());function s(d){return d&&d.__esModule?d:{default:d}}})(E)),E}var Ma=Ta();const Ia=({cartItems:u,addToCartHandler:l,removeFromCartHandler:s,checkoutHandler:d})=>a.jsx(_a.div,{initial:{y:-200,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},children:a.jsx(Na,{children:a.jsxs(H,{children:[a.jsxs(g,{xs:10,sm:12,md:10,xl:8,className:"mx-auto mt-4",children:[a.jsxs("h1",{className:"text-center",style:{marginBottom:"20px"},children:["My Cart (",u.reduce((o,r)=>o+r.qty,0)," items)"]}),u.length===0?a.jsxs(Pa,{children:["Your Cart is empty ",a.jsx(F,{to:"/",children:" Go Back"})]}):a.jsx(L,{style:{cursor:"pointer"},children:a.jsx(x,{variant:"flush",children:u.map(o=>a.jsx(x.Item,{style:{backgroundColor:"rgba(208, 217, 220)",margin:10,borderRadius:10},children:a.jsx(Ma.LinkContainer,{to:`/product/${o._id}`,children:a.jsxs(H,{className:"d-flex align-items-center",children:[a.jsx(g,{xs:11,sm:2,md:3,className:"mx-auto",children:a.jsx(F,{to:`/product/${o._id}`,children:a.jsx(Fa,{src:o.image,alt:o.name,fluid:!0,rounded:!0})})}),a.jsx(g,{xs:10,sm:3,md:4,className:"mx-auto mt-1",children:a.jsxs(F,{style:{textDecoration:"none",color:"black",fontWeight:"bold"},to:`/product/${o._id}`,children:[" ",o.name," "]})}),a.jsx(g,{xs:6,sm:2,md:2,className:"mt-2 mx-auto",children:a.jsx(Ea.Control,{as:"select",value:o.qty,onClick:r=>r.stopPropagation(),onChange:r=>{l(o,Number(r.target.value))},children:[...Array(o.countInStock).keys()].map(r=>a.jsxs("option",{value:r+1,children:[" ",r+1," "]},r+1))})}),a.jsx(g,{xs:10,sm:3,md:3,className:"mt-3 mb-2 mx-auto",children:a.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-between",children:[a.jsxs("strong",{className:"fs-6 me-sm-3",children:["Price: $",o.price.toFixed(2)]}),a.jsx(q,{type:"button",variant:"danger",onClick:r=>{r.preventDefault(),r.stopPropagation(),s(o._id)},size:"sm",children:a.jsx(ja,{})})]})})]})})},o._id))})})]}),a.jsxs(g,{xs:8,sm:6,md:5,xl:3,className:" d-flex flex-column mx-auto mt-5 mt-xl-5",children:[a.jsx(L,{className:"p-2",children:a.jsxs(x,{variant:"flush",children:[a.jsx(x.Item,{className:"border-0 mt-2",children:a.jsx("h2",{children:"Cart Summary"})}),a.jsx(x.Item,{className:"border-0 mt-2",children:a.jsxs("strong",{className:"ms-3",children:["Total Price: $",u.reduce((o,r)=>o+r.qty*r.price,0).toFixed(2)]})}),a.jsx(x.Item,{className:"mt-1 mb-2",children:a.jsxs("strong",{className:"ms-3",children:["Shipping Price: $",Number(u.reduce((o,r)=>o+r.qty*r.price,0).toFixed(2))>100?0:10]})}),a.jsx(x.Item,{children:a.jsxs("strong",{className:"ms-3",children:["Total: $"," ",Number(u.reduce((o,r)=>o+r.qty*r.price,0).toFixed(2))+Number(u.reduce((o,r)=>o+r.qty*r.price,0).toFixed(2))>100?0:10]})})]})}),a.jsx(q,{style:{backgroundColor:"rgba(236, 105, 43)"},className:"mt-3 align-self-center border-0 px-5",disabled:u.length===0,onClick:d,children:"Confirm Cart"})]})]})})}),Ka=()=>{const u=$(),l=Oa(),{cartItems:s}=Aa(c=>c.cart),d=(c,S)=>{l(Da({...c,qty:S}))},o=c=>{l(wa(c))},r=()=>{u("/login?redirect=/shipping")};ka.useEffect(()=>{try{const c=localStorage.getItem("cart");if(c){const S=JSON.parse(c);Array.isArray(S.cartItems)&&l(B(S.cartItems))}}catch(c){console.error("Failed to load cart from localStorage",c),l(B([]))}},[l]);const h={cartItems:s,addToCartHandler:d,removeFromCartHandler:o,checkoutHandler:r};return a.jsx(Ia,{...h})};export{Ka as default};
