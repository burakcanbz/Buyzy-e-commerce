import{r,g as f,bH as N,i as v,bi as C,j as e,m as S,C as L,I as R,bF as P,c as E,e as I,F as s,B,b as F,d as G,L as H,y as o}from"./index-BR7e0FAz.js";import{a as U}from"./main-D7mbeGkd.js";const $=()=>{const[c,p]=r.useState(""),[d,x]=r.useState(""),[n,g]=r.useState(""),[m,y]=r.useState(""),i=f(),[j,{isLoading:u}]=N(),{userInfo:h}=v(a=>a.auth),{search:w}=C(),t=new URLSearchParams(w).get("redirect")||"/login";r.useEffect(()=>{h&&i(t)},[h,t,i]);const b=async a=>{if(a.preventDefault(),n!==m)o.error("Passwords do not match");else try{await j({name:c,email:d,password:n}).unwrap(),o.success("Successfully registered."),i(t)}catch(l){l?.data?o.error(l?.data?.message||"Something went wrong"):o.error(l?.message||"Something went wrong")}};return e.jsx(S.div,{initial:{y:-200,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"60vh"},children:e.jsxs(L,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx(R,{src:`${P}`,alt:"Buyzy Logo",style:{width:150,marginBottom:20,borderRadius:"50%"}}),e.jsxs("h2",{className:"mb-4",children:["Sign Up to"," ",e.jsx("span",{style:{fontFamily:"Fredoka One, sans-serif"},children:"Buyzy"})]})]}),u?e.jsx(E,{}):e.jsxs(I,{className:"p-5 shadow-lg rounded-4",style:{maxWidth:450,minHeight:500,width:"100%",margin:"auto",background:"white"},children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx(U,{size:80,color:"#0d6efd"}),e.jsx("h2",{className:"mt-0",children:"Sign Up"})]}),e.jsxs(s,{onSubmit:b,children:[e.jsxs(s.Group,{controlId:"name",className:"mb-3",children:[e.jsx(s.Label,{children:"Name"}),e.jsx(s.Control,{className:"placeholder-secondary",type:"text",placeholder:"Enter your name",value:c,onChange:a=>p(a.target.value),style:{borderRadius:8,padding:"10px 12px"}})]}),e.jsxs(s.Group,{controlId:"email",className:"mb-3",children:[e.jsx(s.Label,{children:"Email"}),e.jsx(s.Control,{className:"placeholder-secondary",type:"email",placeholder:"Enter your email",value:d,onChange:a=>x(a.target.value),style:{borderRadius:8,padding:"10px 12px"}})]}),e.jsxs(s.Group,{controlId:"password",className:"mb-3",children:[e.jsx(s.Label,{children:"Password"}),e.jsx(s.Control,{className:"placeholder-secondary",type:"password",placeholder:"Enter yourpassword",value:n,onChange:a=>g(a.target.value),style:{borderRadius:8,padding:"10px 12px"}})]}),e.jsxs(s.Group,{controlId:"confirmPassword",className:"mb-3",children:[e.jsx(s.Label,{children:"Confirm Password"}),e.jsx(s.Control,{className:"placeholder-secondary",type:"password",placeholder:"Confirm your password",value:m,onChange:a=>y(a.target.value),style:{borderRadius:8,padding:"10px 12px"}})]}),e.jsx(B,{type:"submit",variant:"primary",className:"w-100 py-2 mt-3 mb-3",disabled:u,children:"Register"})]}),e.jsx(F,{className:"text-center mt-3",children:e.jsxs(G,{children:["Already have an account?"," ",e.jsx(H,{to:`/login?redirect=${t}`,children:"Sign In"})]})})]})]})})};export{$ as default};
